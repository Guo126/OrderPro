(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9f284886"],{"504c":function(e,t,i){var n=i("9e1e"),a=i("0d58"),r=i("6821"),l=i("52a7").f;e.exports=function(e){return function(t){var i,s=r(t),o=a(s),c=o.length,u=0,d=[];while(c>u)i=o[u++],n&&!l.call(s,i)||d.push(e?[i,s[i]]:s[i]);return d}}},6793:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",[i("div",{staticClass:"filter-container"},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"20vw"},attrs:{placeholder:"窗口ID",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSearch(t)}},model:{value:e.listQuery.id,callback:function(t){e.$set(e.listQuery,"id",t)},expression:"listQuery.id"}}),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"20vw"},attrs:{placeholder:"窗口名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSearch(t)}},model:{value:e.listQuery.name,callback:function(t){e.$set(e.listQuery,"name",t)},expression:"listQuery.name"}}),e._v(" "),i("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("搜索")]),e._v(" "),i("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.handleCreate}},[e._v("新增")])],1),e._v(" "),i("diy-table",{attrs:{headList:e.headList,dataList:e.dataList,type:"window"},on:{remove:e.removeUser}}),e._v(" "),i("el-dialog",{attrs:{title:"新增业务",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{staticStyle:{width:"400px","margin-left":"100px"},attrs:{model:e.temp,"label-position":"middle","label-width":"70px"}},[i("el-form-item",{attrs:{label:"窗口名称",prop:"name"}},[i("el-input",{model:{value:e.temp.name,callback:function(t){e.$set(e.temp,"name",t)},expression:"temp.name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"业务类型",prop:"username"}},[i("el-input",{model:{value:e.temp.username,callback:function(t){e.$set(e.temp,"username",t)},expression:"temp.username"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.createUser()}}},[e._v("确认")])],1)],1)],1)},a=[],r=(i("8615"),i("ac6a"),i("db72")),l=i("f4f7"),s=i("2f62"),o={created:function(){this.listQuery={name:void 0,role:void 0,level:this.userInfo.levelId,areaId:this.userInfo.areaId},this.handleSearch()},data:function(){return{dialogFormVisible:!1,headList:[{prop:"id",label:"窗口ID"},{prop:"name",label:"窗口名称"},{prop:"type",label:"业务类型"}],listQuery:{name:"",id:""},dataList:[],typeList:[],temp:{name:"",username:"",pwd:"",sex:"",level:void 0,city:void 0,area:void 0,office:void 0}}},components:{diyTable:l["a"]},computed:Object(r["a"])({},Object(s["b"])(["userInfo","roles"])),methods:{getArea:function(){var e=this;this.$store.dispatch("office/getArea",{cityId:this.temp.city}).then((function(t){e.areaList=t}))},handleSearch:function(){var e=this;this.loading=!0,this.$store.dispatch("user/search",this.listQuery).then((function(t){var i=t.data;i.forEach((function(e){e.sex="m"==e.sex?"女":"男"})),e.dataList=i,e.loading=!1})).catch((function(){e.loading=!1}))},handleCreate:function(){this.dialogFormVisible=!0},createUser:function(){var e=this,t="",i=!1;Object.values(this.temp).some((function(e){return!e||""==e}))?(i=!0,t="请填写完整信息"):this.temp.pwd.length<5&&(i=!0,t="密码不得小于5位"),i?this.$notify({title:"提示",message:t,type:"warning"}):(this.loading=!0,this.$store.dispatch("user/create",this.temp).then((function(t){e.$notify({title:"提示",message:"新增成功！",type:"success"}),e.handleSearch(),e.loading=!1,e.dialogFormVisible=!1})).catch((function(){e.loading=!1})))},removeUser:function(e){var t=this;this.$store.dispatch("user/remove",{targetToken:e}).then((function(e){t.$notify({title:"提示",message:"删除成功！",type:"success"}),t.handleSearch()}))}}},c=o,u=(i("cf75"),i("2877")),d=Object(u["a"])(c,n,a,!1,null,"cea87f62",null);t["default"]=d.exports},8615:function(e,t,i){var n=i("5ca1"),a=i("504c")(!1);n(n.S,"Object",{values:function(e){return a(e)}})},9830:function(e,t,i){},cf75:function(e,t,i){"use strict";var n=i("9830"),a=i.n(n);a.a},f4f7:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.dataList,stripe:"",border:""}},[e._l(e.headList,(function(e){return i("el-table-column",{key:e.prop,attrs:{prop:e.prop,label:e.label,width:"{ item.prop == 'rule' ? 300 :180 }"}})})),e._v(" "),i("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return["office"==e.type?i("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:"",size:"mini"},on:{click:function(i){return e.edit(t.row)}}}):e._e(),e._v(" "),"window"==e.type?i("el-button",{attrs:{type:"primary",icon:"el-icon-view",circle:"",size:"mini"},on:{click:function(i){return e.check(t.row)}}}):e._e(),e._v(" "),"user"==e.type||"office"==e.type?i("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:"",size:"mini"},on:{click:function(i){return e.handleClick(t.row)}}}):e._e()]}}])})],2)],1)},a=[],r={methods:{handleClick:function(e){switch(this.type){case"user":this.$emit("remove",e.token);break;case"office":this.$emit("remove",e.id)}},check:function(e){this.$emit("check",e)},edit:function(e){this.$emit("edit",e)}},props:{headList:{type:Array,default:[]},dataList:{type:Array,default:[]},type:{type:String,default:""}},data:function(){return{dialogFormVisible:!1,temp:{name:"",rule:"",content:"",type:""}}}},l=r,s=i("2877"),o=Object(s["a"])(l,n,a,!1,null,null,null);t["a"]=o.exports}}]);